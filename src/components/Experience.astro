---
import { siteConfig } from "../config";
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
---

{
  hasExperience && (
    <section id="experience" class="py-20 bg-white" style={`--accent-color: ${siteConfig.accentColor}`}>
      <div class="max-w-6xl mx-auto px-6 sm:px-8 lg:px-12">
        <!-- Section header -->
        <div class="text-center mb-16">
          <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">
            Experiencia profesional
          </h2>
          <p class="text-gray-500 text-lg">
            Mi trayectoria dise√±ando productos digitales
          </p>
        </div>

        <!-- Timeline -->
        <div class="relative">
          {/* Vertical line */}
          <div class="hidden lg:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 -translate-x-1/2" />

          <div class="space-y-12">
            {siteConfig.experience.map((exp, index) => {
              const isEven = index % 2 === 0;
              return (
                <div class={`relative flex flex-col lg:flex-row items-center gap-8 ${isEven ? '' : 'lg:flex-row-reverse'}`}>
                  {/* Timeline dot */}
                  <div
                    class="hidden lg:flex absolute left-1/2 -translate-x-1/2 w-4 h-4 rounded-full border-4 border-white z-10"
                    style={`background: ${siteConfig.accentColor}; box-shadow: 0 0 0 4px ${siteConfig.accentColor}20`}
                  />

                  {/* Content card */}
                  <div class={`w-full lg:w-[calc(50%-2rem)] ${isEven ? 'lg:pr-8' : 'lg:pl-8'}`}>
                    <div class="bg-gray-50 rounded-2xl p-6 sm:p-8 hover:shadow-lg transition-all duration-300 border border-gray-100">
                      <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-4">
                        <div>
                          <span
                            class="inline-block px-3 py-1 rounded-full text-xs font-medium text-white mb-2"
                            style={`background: ${siteConfig.accentColor}`}
                          >
                            {exp.dateRange}
                          </span>
                          <h3 class="text-xl font-bold text-gray-900">
                            {exp.title}
                          </h3>
                          <p class="text-gray-600 font-medium">
                            {exp.company}
                          </p>
                        </div>
                      </div>

                      <ul class="space-y-2">
                        {exp.bullets.map((bullet) => (
                          <li class="flex items-start text-gray-600">
                            <span
                              class="inline-block w-1.5 h-1.5 rounded-full mt-2 mr-3 flex-shrink-0"
                              style={`background: ${siteConfig.accentColor}`}
                            />
                            <span class="text-sm leading-relaxed">{bullet}</span>
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>

                  {/* Spacer for opposite side */}
                  <div class="hidden lg:block w-[calc(50%-2rem)]" />
                </div>
              );
            })}
          </div>
        </div>
      </div>
    </section>
  )
}
